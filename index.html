<!DOCTYPE html> 
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>üçå BananaNetwork | ‡§ï‡•á‡§≥‡•Ä ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Favicon -->
<link rel="icon" type="image/png" href="favicon.png">

<!-- Share Preview Logo -->
<meta property="og:title" content="BananaNetwork">
<meta property="og:description" content="‡§ï‡•á‡§≥‡•Ä ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ, ‡§Æ‡§Ç‡§°‡•Ä ‡§Ö‡§™‡§°‡•á‡§ü‡•ç‡§∏, ‡§∂‡•á‡§§‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä">
<meta property="og:image" content="https://bananetwork.in/share.png">
<meta property="og:url" content="https://bananetwork.in">
<meta property="og:type" content="website">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FJ69GK381P"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-FJ69GK381P');
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>

<style>
body{font-family:Arial;background:#f4f6f8;margin:0}

header{
 background:#2e7d32;
 color:#fff;
 padding:18px 15px;   /* header height increased */
 display:flex;
 justify-content:center;
 align-items:center;
 position:relative;
 min-height:85px;    /* extra space for logo */
}
header img{
 max-width:130px;
 position:absolute;
 left:50%;
 top:50%;
 transform:translate(-50%,-50%);
}

.menu-btn{
 font-size:26px;
 cursor:pointer;
 position:absolute;
 right:15px;
 top:50%;
 transform:translateY(-50%);
}
.menu{
 position:absolute;top:110px;right:15px;
 background:#fff;border-radius:10px;
 box-shadow:0 8px 25px rgba(0,0,0,.25);
 display:none;min-width:180px;z-index:20
}
.menu a{display:block;padding:12px 16px;text-decoration:none;color:#333}
.menu a:hover{background:#f1f8e9}

.box{background:#fff;margin:15px;padding:15px;border-radius:8px}
.tabs{display:flex;overflow-x:auto;margin:15px}
.tab{padding:10px 15px;margin-right:8px;background:#e0e0e0;border-radius:6px;cursor:pointer;font-weight:bold}
.tab.active{background:#2e7d32;color:#fff}
.date-bar{margin:15px;background:#2e7d32;color:#fff;text-align:center;padding:12px;border-radius:6px;font-weight:bold}
.pavti-img{width:100%;border-radius:6px}

.whatsapp-join{text-align:center;margin:15px 0}
.whatsapp-join a{
 display:inline-flex;align-items:center;gap:8px;
 background:#25D366;color:#fff;
 padding:8px 16px;border-radius:30px;
 text-decoration:none;font-weight:bold;font-size:14px
}
.whatsapp-join img{width:22px;height:22px}

.up{color:green;font-weight:bold}
.down{color:red;font-weight:bold}

.graph-buttons button{
 padding:6px 12px;
 margin:4px;
 background:#2e7d32;
 color:white;
 border:none;
 border-radius:5px;
}
</style>
</head>

<body>

<header>
  <img src="logo_1.png">
  <div class="menu-btn" onclick="toggleMenu()">‚ãÆ</div>
  <div class="menu" id="menu">
    <a href="index.html">üè† Home</a>
    <a href="about.html">‚ÑπÔ∏è About Us</a>
    <a href="contact.html">üìû Contact</a>
    <a href="privacy.html">üîí Privacy Policy</a>
  </div>
</header>

<div class="whatsapp-join">
  <a href="https://chat.whatsapp.com/GGtDZDLQiw4BlXGVyrni2u" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">
    WhatsApp Group Join ‡§ï‡§∞‡§æ
  </a>
</div>

<div class="box">
  <h3>üì∏ ‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞ ‡§Æ‡§Ç‡§°‡•Ä ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§ø‡§§ ‡§™‡§æ‡§µ‡§§‡•Ä</h3>
  <img class="pavti-img" id="pavtiImg">
</div>

<div class="tabs">
  <div class="tab active" data-market="‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞">‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞</div>
  <div class="tab" data-market="‡§ú‡§≥‡§ó‡§æ‡§µ">‡§ú‡§≥‡§ó‡§æ‡§µ</div>
  <div class="tab" data-market="‡§ö‡•ã‡§™‡§°‡§æ">‡§ö‡•ã‡§™‡§°‡§æ</div>
  <div class="tab" data-market="‡§∞‡§æ‡§µ‡•á‡§∞">‡§∞‡§æ‡§µ‡•á‡§∞</div>
</div>

<div class="date-bar" id="dateBar"></div>
<div class="box" id="marketData">‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...</div>

<div class="box">
<h3>üìä ‡§≠‡§æ‡§µ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</h3>

<div class="graph-buttons">
<button onclick="loadGraph(7)">7 ‡§¶‡§ø‡§µ‡§∏</button>
<button onclick="loadGraph(30)">30 ‡§¶‡§ø‡§µ‡§∏</button>
<button onclick="loadGraph(365)">365 ‡§¶‡§ø‡§µ‡§∏</button>
</div>

<canvas id="rateChart"></canvas>
<canvas id="aavakChart"></canvas>
<canvas id="vikriChart"></canvas>
</div>

<script>
function toggleMenu(){
 const m=document.getElementById("menu");
 m.style.display=(m.style.display==="block")?"none":"block";
}

const weekdays={Sunday:"‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞",Monday:"‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞",Tuesday:"‡§Æ‡§Ç‡§ó‡§≥‡§µ‡§æ‡§∞",
Wednesday:"‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞",Thursday:"‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞",Friday:"‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞",Saturday:"‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"};

function setDateFromSheet(dateStr){
 const parts = dateStr.split("/");
 const d = new Date(parts[2], parts[1]-1, parts[0]);
 const dayName = d.toLocaleString('en',{weekday:'long'});
 dateBar.innerText = `‡§¶‡§ø. ${dateStr} (${weekdays[dayName]})`;
}

const sheetURL="https://docs.google.com/spreadsheets/d/e/2PACX-1vT3B4g7toMMWKrRoUl282tnA2E5AY-vWIPETz7RRmKRpTNnvVkN-PuRk4S7YoERbTPa2-TuOGDJAAkR/pub?output=csv";

let rows=[];
let currentMarket="‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞";

fetch(sheetURL)
.then(r=>r.text())
.then(t=>{
 rows=t.split("\n").map(r=>r.split(","));
 showMarket("‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞");
 loadGraph(30);
});

function diffText(diff){
 if(diff>0) return `<span class="up">${diff} ‡§µ‡§æ‡§¢</span>`;
 if(diff<0) return `<span class="down">${Math.abs(diff)} ‡§ò‡§ü</span>`;
 return "‡§´‡§∞‡§ï ‡§®‡§æ‡§π‡•Ä";
}

function showMarket(market){
 currentMarket=market;

 const filtered = rows.filter(r => r[1] && r[1].trim()===market);
 const today = filtered[filtered.length-1];
 const yesterday = filtered[filtered.length-2];

 setDateFromSheet(today[0]);

 let photoLink="";
 today.forEach(cell=>{
   if(cell && cell.includes("http")) photoLink=cell.trim();
 });
 if(photoLink) pavtiImg.src=photoLink;

 if(market==="‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞"){
  const aajRates = today[2].split("/");
  const kalRates = yesterday?yesterday[2].split("/"):[0,0,0];
  const aavak = parseInt(today[6]||0);
  const kalAavak = yesterday?parseInt(yesterday[6]||0):0;
  const vikri = parseInt(today[7]||0);
  const kalVikri = yesterday?parseInt(yesterday[7]||0):0;

  marketData.innerHTML=`
  <h3>‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞</h3>
  <b>‡§Ü‡§ú‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä : ${today[2]}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§Ü‡§µ‡§ï : ${aavak}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä : ${vikri}<br><br>
  <b>‡§ï‡§æ‡§≤‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä : ${yesterday?yesterday[2]:"-"}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§Ü‡§µ‡§ï : ${kalAavak}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä : ${kalVikri}<br><br>
  <b>‡§´‡§∞‡§ï</b><br>
  ‡§®‡§µ‡§§‡•Ä :
  ${diffText(aajRates[0]-kalRates[0])} /
  ${diffText(aajRates[1]-kalRates[1])} /
  ${diffText(aajRates[2]-kalRates[2])}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§Ü‡§µ‡§ï : ${diffText(aavak-kalAavak)}<br>
  ‡§ó‡§æ‡§°‡•Ä ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä : ${diffText(vikri-kalVikri)}
  `;
 }

 if(market==="‡§ú‡§≥‡§ó‡§æ‡§µ" || market==="‡§ö‡•ã‡§™‡§°‡§æ"){
  const navtiAaj=parseInt(today[2]||0);
  const navtiKal=yesterday?parseInt(yesterday[2]||0):0;
  const bagAaj=parseInt(today[3]||0);
  const bagKal=yesterday?parseInt(yesterday[3]||0):0;

  marketData.innerHTML=`
  <h3>${market}</h3>
  <b>‡§Ü‡§ú‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä : ${navtiAaj}<br>
  ‡§ï‡§æ‡§Ç‡§¶‡•á ‡§¨‡§æ‡§ó : ${bagAaj}<br><br>
  <b>‡§ï‡§æ‡§≤‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä : ${navtiKal}<br>
  ‡§ï‡§æ‡§Ç‡§¶‡•á ‡§¨‡§æ‡§ó : ${bagKal}<br><br>
  <b>‡§´‡§∞‡§ï</b><br>
  ‡§®‡§µ‡§§‡•Ä : ${diffText(navtiAaj-navtiKal)}<br>
  ‡§ï‡§æ‡§Ç‡§¶‡•á ‡§¨‡§æ‡§ó : ${diffText(bagAaj-bagKal)}
  `;
 }

 if(market==="‡§∞‡§æ‡§µ‡•á‡§∞"){
  const a1=parseInt(today[4]||0);
  const a2=parseInt(today[5]||0);
  const k1=yesterday?parseInt(yesterday[4]||0):0;
  const k2=yesterday?parseInt(yesterday[5]||0):0;

  marketData.innerHTML=`
  <h3>‡§∞‡§æ‡§µ‡•á‡§∞</h3>
  <b>‡§Ü‡§ú‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä 1 : ${a1}<br>
  ‡§®‡§µ‡§§‡•Ä 2 : ${a2}<br><br>
  <b>‡§ï‡§æ‡§≤‡§ö‡§æ ‡§≠‡§æ‡§µ</b><br>
  ‡§®‡§µ‡§§‡•Ä 1 : ${k1}<br>
  ‡§®‡§µ‡§§‡•Ä 2 : ${k2}<br><br>
  <b>‡§´‡§∞‡§ï</b><br>
  ‡§®‡§µ‡§§‡•Ä 1 : ${diffText(a1-k1)}<br>
  ‡§®‡§µ‡§§‡•Ä 2 : ${diffText(a2-k2)}
  `;
 }

 loadGraph(30);
}

let chart,aavakGraph,vikriGraph;

function loadGraph(days){
 const data = rows.filter(r=>r[1] && r[1].trim()===currentMarket).slice(-days);

 const labels = data.map(r=>{
   const d=r[0].split("/");
   const m=["‡§ú‡§æ‡§®‡•á","‡§´‡•á‡§¨","‡§Æ‡§æ‡§∞‡•ç‡§ö","‡§è‡§™‡•ç‡§∞‡§ø‡§≤","‡§Æ‡•á","‡§ú‡•Ç‡§®","‡§ú‡•Å‡§≤‡•à","‡§ë‡§ó","‡§∏‡§™‡•ç‡§ü‡•á‡§Ç","‡§ë‡§ï‡•ç‡§ü‡•ã","‡§®‡•ã‡§µ‡•ç‡§π‡•á","‡§°‡§ø‡§∏‡•á"];
   return d[0]+" "+m[parseInt(d[1])-1];
 });

 if(chart) chart.destroy();
 if(aavakGraph) aavakGraph.destroy();
 if(vikriGraph) vikriGraph.destroy();

 if(currentMarket==="‡§¨‡•Å‡§∞‡§π‡§æ‡§®‡§™‡•Ç‡§∞"){
  const low=data.map(r=>parseInt((r[2]||"0/0/0").split("/")[0]));
  const high=data.map(r=>parseInt((r[2]||"0/0/0").split("/")[1]));
  const avg=data.map(r=>parseInt((r[2]||"0/0/0").split("/")[2]));

  chart=new Chart(rateChart,{type:'line',
   data:{labels,datasets:[
     {label:'‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ',data:low},
     {label:'‡§â‡§ö‡•ç‡§ö‡§§‡§Æ',data:high},
     {label:'‡§™‡•ç‡§∞‡§ö‡§≤‡§ø‡§§',data:avg}
   ]}
  });

  const aavak=data.map(r=>parseInt(r[6]||0));
  const vikri=data.map(r=>parseInt(r[7]||0));

  aavakGraph=new Chart(aavakChart,{type:'bar',
   data:{labels,datasets:[{label:'‡§ó‡§æ‡§°‡•Ä ‡§Ü‡§µ‡§ï',data:aavak}]}
  });

  vikriGraph=new Chart(vikriChart,{type:'bar',
   data:{labels,datasets:[{label:'‡§ó‡§æ‡§°‡•Ä ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä',data:vikri}]}
  });

 } else if(currentMarket==="‡§ú‡§≥‡§ó‡§æ‡§µ"||currentMarket==="‡§ö‡•ã‡§™‡§°‡§æ"){
  const navti=data.map(r=>parseInt(r[2]||0));
  const bag=data.map(r=>parseInt(r[3]||0));

  chart=new Chart(rateChart,{type:'line',
   data:{labels,datasets:[
     {label:'‡§®‡§µ‡§§‡•Ä',data:navti},
     {label:'‡§ï‡§æ‡§Ç‡§¶‡•á ‡§¨‡§æ‡§ó',data:bag}
   ]}
  });

 } else if(currentMarket==="‡§∞‡§æ‡§µ‡•á‡§∞"){
  const n1=data.map(r=>parseInt(r[4]||0));
  const n2=data.map(r=>parseInt(r[5]||0));

  chart=new Chart(rateChart,{type:'line',
   data:{labels,datasets:[
     {label:'‡§®‡§µ‡§§‡•Ä1',data:n1},
     {label:'‡§®‡§µ‡§§‡•Ä2',data:n2}
   ]}
  });
 }
}

document.querySelectorAll(".tab").forEach(t=>{
 t.onclick=()=>{
  document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
  t.classList.add("active");
  showMarket(t.dataset.market);
 };
});
</script>

</body>
</html>
