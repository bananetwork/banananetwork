<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>ЁЯНМ BananaNetwork | рдХреЗрд│реА рдмрд╛рдЬрд╛рд░ рднрд╛рд╡</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{font-family:Arial;background:#f4f6f8;margin:0}

/* HEADER */
header{
 background:#2e7d32;color:#fff;padding:15px;
 display:flex;justify-content:space-between;align-items:center;
 position:relative
}
header img{max-width:160px}

/* MENU */
.menu-btn{font-size:26px;cursor:pointer}
.menu{
 position:absolute;top:60px;right:15px;
 background:#fff;border-radius:10px;
 box-shadow:0 8px 25px rgba(0,0,0,.25);
 display:none;min-width:180px;z-index:20
}
.menu a{display:block;padding:12px 16px;text-decoration:none;color:#333}
.menu a:hover{background:#f1f8e9}

/* COMMON */
.box,.card{background:#fff;margin:15px;padding:15px;border-radius:8px}
.tabs{display:flex;overflow-x:auto;margin:15px}
.tab{padding:10px 15px;margin-right:8px;background:#e0e0e0;border-radius:6px;cursor:pointer;font-weight:bold}
.tab.active{background:#2e7d32;color:#fff}
.date-bar{margin:15px;background:#2e7d32;color:#fff;text-align:center;padding:12px;border-radius:6px;font-weight:bold}
.rate-up{color:green;font-weight:bold}
.rate-down{color:red;font-weight:bold}
.pavti-img{width:100%;border-radius:6px}

.whatsapp-join{text-align:center;margin:10px 0}
.whatsapp-join a{
 display:inline-flex;align-items:center;gap:8px;
 background:#25D366;color:#fff;
 padding:8px 16px;border-radius:30px;
 text-decoration:none;font-weight:bold;font-size:14px
}
.whatsapp-join img{width:22px;height:22px}

canvas{margin-top:20px}
h2{color:#2e7d32}
</style>
</head>

<body>

<header>
  <img src="logo_1.png">
  <div class="menu-btn" onclick="toggleMenu()">тЛо</div>
  <div class="menu" id="menu">
    <a href="index.html">ЁЯПа Home</a>
    <a href="about.html">тД╣я╕П About Us</a>
    <a href="contact.html">ЁЯУЮ Contact</a>
    <a href="privacy.html">ЁЯФТ Privacy Policy</a>
  </div>
</header>

<div class="whatsapp-join">
  <a href="https://chat.whatsapp.com/GGtDZDLQiw4BlXGVyrni2u" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">
    WhatsApp Group Join рдХрд░рд╛
  </a>
</div>

<div class="box">
  <h3>ЁЯУ╕ рдмреБрд░рд╛рд╣рдирдкреВрд░ рдордВрдбреА рдкреНрд░рдорд╛рдгрд┐рдд рдкрд╛рд╡рддреА</h3>
  <img class="pavti-img" src="burhanpur_pavti.jpg">
</div>

<div class="tabs">
  <div class="tab active" data-market="рдмреБрд░рд╛рд╣рдирдкреВрд░">рдмреБрд░рд╛рд╣рдирдкреВрд░</div>
  <div class="tab" data-market="рдЬрд│рдЧрд╛рд╡">рдЬрд│рдЧрд╛рд╡</div>
  <div class="tab" data-market="рдЪреЛрдкрдбрд╛">рдЪреЛрдкрдбрд╛</div>
  <div class="tab" data-market="рд░рд╛рд╡реЗрд░">рд░рд╛рд╡реЗрд░</div>
</div>

<div class="date-bar" id="dateBar"></div>
<div class="box" id="marketData">рд▓реЛрдб рд╣реЛрдд рдЖрд╣реЗ...</div>

<div class="card">
  <h2 id="graphTitle"></h2>
  <canvas id="priceChart"></canvas>
</div>

<script>
function toggleMenu(){
 document.getElementById("menu").style.display =
 document.getElementById("menu").style.display==="block"?"none":"block";
}

/* DATE */
const weekdays={Sunday:"рд░рд╡рд┐рд╡рд╛рд░",Monday:"рд╕реЛрдорд╡рд╛рд░",Tuesday:"рдордВрдЧрд│рд╡рд╛рд░",
Wednesday:"рдмреБрдзрд╡рд╛рд░",Thursday:"рдЧреБрд░реБрд╡рд╛рд░",Friday:"рд╢реБрдХреНрд░рд╡рд╛рд░",Saturday:"рд╢рдирд┐рд╡рд╛рд░"};
const now=new Date();
dateBar.innerText=`рджрд┐. ${now.toLocaleDateString('en-GB')} (${weekdays[now.toLocaleString('en',{weekday:'long'})]})`;

/* ===== GOOGLE SHEET FETCH ===== */
const SHEET_URL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vRQVPMpzbhSLbwfmd4rEU2pS5Qap-up2Z4c706FG2lTyMNANqNqtzJXTYJlT9EzL-WipOMqetmDoD78/gviz/tq?tqx=out:json";

let sheetData=[];

fetch(SHEET_URL)
.then(res=>res.text())
.then(txt=>{
 const json=JSON.parse(txt.substring(47).slice(0,-2));
 sheetData=json.table.rows;
 loadMarket("рдмреБрд░рд╛рд╣рдирдкреВрд░");
});

/* ===== RENDER FUNCTION ===== */
function loadMarket(mandi){
 const row=sheetData.find(r=>r.c[1]?.v===mandi);
 if(!row){marketData.innerHTML="рдбреЗрдЯрд╛ рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА";return;}

 const n=row.c;

 let html=`<b>${mandi}</b><br><br><b>рдЖрдЬрдЪрд╛ рднрд╛рд╡</b><br>`;

 if(mandi==="рдмреБрд░рд╛рд╣рдирдкреВрд░"){
  html+=`
  рдирд╡рддреА : ${n[2].v}/${n[3].v}/${n[4].v}<br>
  рдЧрд╛рдбреА рдЖрд╡рдХ : ${n[8].v}<br>
  рдЧрд╛рдбреА рд╡рд┐рдХреНрд░реА : ${n[9].v}
  `;
 }
 else if(mandi==="рд░рд╛рд╡реЗрд░"){
  html+=`
  рдирд╡рддреА 1 : ${n[5].v}<br>
  рдирд╡рддреА 2 : ${n[6].v}
  `;
 }
 else{
  html+=`
  рдирд╡рддреА : ${n[2].v}<br>
  рдХрд╛рдВрджреЗ рдмрд╛рдЧ : ${n[7].v}
  `;
 }

 marketData.innerHTML=html;

 drawGraph(mandi,n);
}

/* ===== GRAPH ===== */
let priceChart;
function drawGraph(m,n){
 if(priceChart)priceChart.destroy();

 let labels=["рдиреНрдпреВрдирддрдо","рдЙрдЪреНрдЪрддрдо","рдкреНрд░рдЪрд▓рд┐рдд"];
 let values=[n[2]?.v,n[3]?.v,n[4]?.v];

 if(m!=="рдмреБрд░рд╛рд╣рдирдкреВрд░"){labels=["рднрд╛рд╡"];values=[n[7]?.v||n[5]?.v];}

 priceChart=new Chart(priceChartCanvas,{
  type:"bar",
  data:{labels,datasets:[{label:"рднрд╛рд╡",data:values,backgroundColor:"#66bb6a"}]}
 });
}

/* TABS */
document.querySelectorAll(".tab").forEach(t=>{
 t.onclick=()=>{
  document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
  t.classList.add("active");
  loadMarket(t.dataset.market);
 };
});
</script>

</body>
</html>
